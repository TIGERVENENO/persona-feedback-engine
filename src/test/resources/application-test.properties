# Test configuration - use H2 in-memory database

# ======== H2 Database Configuration ========
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ======== SQL Initialization ========
# Use test-specific data.sql with H2-compatible syntax
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data.sql

# ======== Hibernate/JPA Configuration ========
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# ======== RabbitMQ Configuration (mock) ========
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

# ======== Redis Configuration (disabled for tests) ========
spring.data.redis.host=localhost
spring.data.redis.port=6379

# ======== Cache Configuration ========
spring.cache.type=simple

# ======== OpenRouter API Configuration ========
app.openrouter.api-key=test-key
app.openrouter.model=anthropic/claude-3-5-sonnet
app.openrouter.timeout-seconds=30
app.openrouter.retry-delay-ms=100

# ======== Application-Specific Configuration ========
app.feedback.max-products-per-session=5
app.feedback.max-personas-per-session=5
app.feedback.max-prompt-length=2000
