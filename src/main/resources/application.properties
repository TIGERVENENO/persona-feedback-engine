spring.application.name=persona-feedback-engine

# ======== PostgreSQL Database Configuration ========
spring.datasource.url=jdbc:postgresql://localhost:5432/personadb
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.datasource.driver-class-name=org.postgresql.Driver

# ======== Hibernate/JPA Configuration ========
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ======== RabbitMQ Configuration ========
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

# ======== Redis Configuration ========
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=

# ======== Cache Configuration ========
spring.cache.type=redis
spring.cache.redis.time-to-live=86400000

# ======== AI Provider Configuration ========
app.ai.provider=${AI_PROVIDER:agentrouter}

# ======== OpenRouter API Configuration ========
app.openrouter.api-key=${OPENROUTER_API_KEY:}
# Model examples: anthropic/claude-3-5-sonnet, openai/gpt-4o, mistral/mistral-large
# See https://openrouter.ai/docs#models for complete list
app.openrouter.model=${OPENROUTER_MODEL:anthropic/claude-3-5-sonnet}
app.openrouter.timeout-seconds=${OPENROUTER_TIMEOUT_SECONDS:30}
app.openrouter.retry-delay-ms=${OPENROUTER_RETRY_DELAY_MS:1000}

# ======== AgentRouter API Configuration ========
app.agentrouter.api-key=${AGENTROUTER_API_KEY:}
# Model examples: anthropic/claude-3-5-sonnet, openai/gpt-4o, mistral/mistral-large
# See https://agentrouter.ai/docs#models for complete list
app.agentrouter.model=${AGENTROUTER_MODEL:anthropic/claude-3-5-sonnet}
app.agentrouter.timeout-seconds=${AGENTROUTER_TIMEOUT_SECONDS:30}
app.agentrouter.retry-delay-ms=${AGENTROUTER_RETRY_DELAY_MS:1000}

# ======== HikariCP Connection Pool Configuration ========
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.auto-commit=true

# ======== RabbitMQ Performance Configuration ========
spring.rabbitmq.listener.simple.prefetch=10
spring.rabbitmq.listener.simple.concurrency=3
spring.rabbitmq.listener.simple.max-concurrency=10

# ======== Application-Specific Configuration ========
app.feedback.max-products-per-session=5
app.feedback.max-personas-per-session=5
app.feedback.max-prompt-length=2000
